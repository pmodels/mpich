# vim: set ft=c:

MPI_Add_error_class:
    .desc: Add an MPI error class to the known classes

MPI_Add_error_code:
    .desc: Add an MPI error code to an MPI error class

MPI_Add_error_string:
    .desc: Associates an error string with an MPI error code or

MPI_Delete_error_class:
    errorclass: ERROR_CLASS, [value of the error class to be remoed]
    .desc: Delete an MPI error class from the known classes

MPI_Delete_error_code:
    errorcode: ERROR_CODE, [value of the error code to be remoed]
    .desc: Delete an MPI error code

MPI_Delete_error_string:
    errorcode: ERROR_CODE, [value of the error code whose string is to be remoed]
    .desc: Delete the error string associated with an MPI error code or class

MPI_Comm_call_errhandler:
    .desc: Call the error handler installed on a
    .extra: ignore_revoke

MPI_Comm_create_errhandler:
    .desc: Create a communicator error handler

MPI_Comm_get_errhandler:
    .desc: Get the error handler attached to a communicator
    .extra: ignore_revoke

MPI_Comm_set_errhandler:
    .desc: Set the error handler for a communicator
    .seealso: MPI_Comm_get_errhandler, MPI_Comm_call_errhandler
    .extra: ignore_revoke

MPI_Errhandler_create:
    comm_errhandler_fn: FUNCTION_SMALL, func_type=MPI_Comm_errhandler_function, [user defined error handling procedure]
    errhandler: ERRHANDLER, direction=out
    .desc: Creates an MPI-style errorhandler
    .skip: ThreadSafe, initcheck
    .replace: removed with MPI_Comm_create_errhandler
    .seealso: MPI_Comm_create_errhandler, MPI_Errhandler_free
/*
    Notes:
    The MPI Standard states that an implementation may make the output value
    (errhandler) simply the address of the function.  However, the action of
    'MPI_Errhandler_free' makes this impossible, since it is required to set the
    value of the argument to 'MPI_ERRHANDLER_NULL'.  In addition, the actual
    error handler must remain until all communicators that use it are
    freed.
*/

MPI_Errhandler_free:
    .desc: Frees an MPI-style errorhandler

MPI_Errhandler_get:
    comm: COMMUNICATOR
    errhandler: ERRHANDLER, direction=out, [error handler currently associated with communicator]
    .desc: Gets the error handler for a communicator
    .skip: initcheck
    .replace: removed with MPI_Comm_get_errhandler
/*
    Note on Implementation:

    The MPI Standard was unclear on whether this routine required the user to call
    'MPI_Errhandler_free' once for each call made to this routine in order to
    free the error handler.  After some debate, the MPI Forum added an explicit
    statement that users are required to call 'MPI_Errhandler_free' when the
    return value from this routine is no longer needed.  This behavior is similar
    to the other MPI routines for getting objects; for example, 'MPI_Comm_group'
    requires that the user call 'MPI_Group_free' when the group returned
    by 'MPI_Comm_group' is no longer needed.
*/

MPI_Errhandler_set:
    comm: COMMUNICATOR, direction=lis:inout, param:in
    errhandler: ERRHANDLER, [new error handler for communicator]
    .desc: Sets the error handler for a communicator
    .skip: initcheck
    .replace: removed with MPI_Comm_set_errhandler
    .seealso: MPI_Comm_set_errhandler, MPI_Errhandler_create, MPI_Comm_create_errhandler

MPI_Error_class:
    .desc: Converts an error code into an error class
    .skip: initcheck
    .extra: SignalSafe
{
    /* We include the dynamic bit because this is needed to fully
     * describe the dynamic error classes */
    *errorclass = errorcode & (ERROR_CLASS_MASK | ERROR_DYN_MASK);
}

MPI_Error_string:
    .desc: Return a string for a given error code
    .skip: initcheck
/*
    Notes:  Error codes are the values return by MPI routines (in C) or in the
    'ierr' argument (in Fortran).  These can be converted into error classes
    with the routine 'MPI_Error_class'.
*/
{
    MPIR_Err_get_string(errorcode, string, MPI_MAX_ERROR_STRING, NULL);
    *resultlen = (int) strlen(string);
}

MPI_File_call_errhandler:
    .desc: Call the error handler installed on a

MPI_File_create_errhandler:
    .desc: Create a file error handler

MPI_File_get_errhandler:
    .desc: Get the error handler attached to a file

MPI_File_set_errhandler:
    .desc: Set the error handler for an MPI file

MPI_Win_call_errhandler:
    .desc: Call the error handler installed on a

MPI_Win_create_errhandler:
    .desc: Create an error handler for use with MPI window

MPI_Win_get_errhandler:
    .desc: Get the error handler for the MPI RMA window

MPI_Win_set_errhandler:
    .desc: Set window error handler
