#include "coll_algo_params.h"
#include <mpidimpl.h>
#include "ch4_impl.h"

/* container traverse function to be implemented  */
/* e.g. return ((void *) ((char *)container) + sizeof(MPIDI_coll_algo_generic_container_t)); */
void *MPIDI_coll_get_next_container(void *container)
{
    return NULL;
}

/* Barrier default composition containers initialization*/
const MPIDI_coll_algo_container_t MPIDI_CH4I_Barrier_intra_composition_alpha_cnt = {
    .id = MPIDI_CH4_Barrier_intra_composition_alpha_id,
    .params.ch4_barrier_params.ch4_barrier_alpha = {
                                                    .node_barrier = MPIDI_CH4_COLL_AUTO_SELECT,
                                                    .roots_barrier = MPIDI_CH4_COLL_AUTO_SELECT,
                                                    .node_bcast = MPIDI_CH4_COLL_AUTO_SELECT}
};

const MPIDI_coll_algo_container_t MPIDI_CH4I_Barrier_intra_composition_beta_cnt = {
    .id = MPIDI_CH4_Barrier_intra_composition_beta_id,
    .params.ch4_barrier_params.ch4_barrier_beta = {
                                                   .barrier = MPIDI_CH4_COLL_AUTO_SELECT}
};

const MPIDI_coll_algo_container_t MPIDI_CH4I_Barrier_inter_composition_alpha_cnt = {
    .id = MPIDI_CH4_Barrier_inter_composition_alpha_id
};

/* Bcast default composition containers initialization*/
const MPIDI_coll_algo_container_t MPIDI_CH4I_Bcast_intra_composition_alpha_cnt = {
    .id = MPIDI_CH4_Bcast_intra_composition_alpha_id,
    .params.ch4_bcast_params.ch4_bcast_alpha = {
                                                .roots_bcast = MPIDI_CH4_COLL_AUTO_SELECT,
                                                .node_bcast = MPIDI_CH4_COLL_AUTO_SELECT}
};

const MPIDI_coll_algo_container_t MPIDI_CH4I_Bcast_intra_composition_beta_cnt = {
    .id = MPIDI_CH4_Bcast_intra_composition_beta_id,
    .params.ch4_bcast_params.ch4_bcast_beta = {
                                               .node_bcast_first = MPIDI_CH4_COLL_AUTO_SELECT,
                                               .roots_bcast = MPIDI_CH4_COLL_AUTO_SELECT,
                                               .node_bcast_second = MPIDI_CH4_COLL_AUTO_SELECT}
};

const MPIDI_coll_algo_container_t MPIDI_CH4I_Bcast_intra_composition_gamma_cnt = {
    .id = MPIDI_CH4_Bcast_intra_composition_gamma_id,
    .params.ch4_bcast_params.ch4_bcast_gamma = {
                                                .bcast = MPIDI_CH4_COLL_AUTO_SELECT,
                                                }
};

const MPIDI_coll_algo_container_t MPIDI_CH4I_Bcast_inter_composition_alpha_cnt = {
    .id = MPIDI_CH4_Bcast_inter_composition_alpha_id
};

/* Reduce default composition containers initialization*/
const MPIDI_coll_algo_container_t MPIDI_CH4I_Reduce_intra_composition_alpha_cnt = {
    .id = MPIDI_CH4_Reduce_intra_composition_alpha_id,
    .params.ch4_reduce_params.ch4_reduce_alpha = {
                                                  .roots_reduce = MPIDI_CH4_COLL_AUTO_SELECT,
                                                  .node_reduce = MPIDI_CH4_COLL_AUTO_SELECT}
};

const MPIDI_coll_algo_container_t MPIDI_CH4I_Reduce_intra_composition_beta_cnt = {
    .id = MPIDI_CH4_Reduce_intra_composition_beta_id,
    .params.ch4_reduce_params.ch4_reduce_beta = {
                                                 .reduce = MPIDI_CH4_COLL_AUTO_SELECT}
};

const MPIDI_coll_algo_container_t MPIDI_CH4I_Reduce_inter_composition_alpha_cnt = {
    .id = MPIDI_CH4_Reduce_inter_composition_alpha_id
};

/* Allreduce default composition containers initialization*/
const MPIDI_coll_algo_container_t MPIDI_CH4I_Allreduce_inter_composition_alpha_cnt = {
    .id = MPIDI_CH4_Allreduce_inter_composition_alpha_id
};

const MPIDI_coll_algo_container_t MPIDI_CH4I_Allreduce_intra_composition_alpha_cnt = {
    .id = MPIDI_CH4_Allreduce_intra_composition_alpha_id,
    .params.ch4_allreduce_params.ch4_allreduce_alpha = {
                                                        .node_reduce = MPIDI_CH4_COLL_AUTO_SELECT,
                                                        .roots_allreduce =
                                                        MPIDI_CH4_COLL_AUTO_SELECT,
                                                        .node_bcast = MPIDI_CH4_COLL_AUTO_SELECT}
};

const MPIDI_coll_algo_container_t MPIDI_CH4I_Allreduce_intra_composition_beta_cnt = {
    .id = MPIDI_CH4_Allreduce_intra_composition_beta_id,
    .params.ch4_allreduce_params.ch4_allreduce_beta = {
                                                       .allreduce = MPIDI_CH4_COLL_AUTO_SELECT}
};

/* *INDENT-OFF* */
@ch4_netmod_coll_globals_default@
@ch4_shm_coll_globals_default@
/* *INDENT-ON* */
